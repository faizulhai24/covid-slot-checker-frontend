(this.webpackJsonpcowin=this.webpackJsonpcowin||[]).push([[0],{121:function(n,t,e){},294:function(n,t,e){"use strict";e.r(t);var i,a,o,c=e(0),r=e.n(c),s=e(21),b=e.n(s),d=(e(121),e(7)),l=e(44),u=e(23),p=e(42),j=e(43),x=function(n,t){return Object(j.a)(i||(i=Object(p.a)(["\n  white-space: nowrap;\n  display: inline-block;\n  border-radius: 5px;\n  padding: 5px 15px;\n  font-size: 16px;\n  color: white;\n  &:visited {\n    color: white;\n  }\n  background-image: linear-gradient(",", ",");\n  border: 1px solid ",";\n  &:hover {\n    background-image: linear-gradient(",", ",");\n    &[disabled] {\n      background-image: linear-gradient(",", ",");\n    }\n  }\n  &:visited {\n    color: black;\n  }\n  &[disabled] {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n"])),n,t,t,n,t,n,t)},f=Object(j.a)(a||(a=Object(p.a)([""," color: #555;"])),x("#ffffff","#d5d5d5")),O=x("#4f93ce","#285f8f"),h=j.b.div(o||(o=Object(p.a)(["\n  font-family: sans-serif;\n\n  h1 {\n    text-align: center;\n    color: #222;\n  }\n\n  h2 {\n    text-align: center;\n    color: #222;\n  }\n\n  & > div {\n    margin: 5px;\n    text-align: center;\n  }\n\n  & > a {\n    display: block;\n    text-align: center;\n    color: #222;\n    margin-bottom: 10px;\n  }\n\n  form {\n    max-width: 500px;\n    margin: 10px auto;\n    border: 1px solid #ccc;\n    padding: 20px;\n    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);\n    border-radius: 3px;\n    position: relative;\n    \n\n    & > .buttons {  \n      display: flex;\n      flex-flow: row nowrap;\n      justify-content: center;\n      margin-top: 15px;\n    }\n    button {\n      margin: 0 10px;\n      &[type='submit'] {\n        ",";\n      }\n      &[type='button'] {\n        ",";\n      }\n    }\n    .error {\n      display: flex;\n      font-weight: bold;\n      color: #800;\n      flex-flow: row nowrap;\n      justify-content: center;\n    }\n    .Select {\n      width: 100%;\n    }\n    pre {\n      border: 1px solid #ccc;\n      background: rgba(0, 0, 0, 0.1);\n      box-shadow: inset 1px 1px 3px rgba(0, 0, 0, 0.2);\n      padding: 20px;\n    }\n  }\n"])),O,f),m=e(5),g=e(116),v=e(29),w=e.n(v),y=e(75),S=e.n(y),T=e(77),k=e(115),_=e.n(k),C=e(72),L=e.n(C),N=e(76),P=e.n(N),F=e(2),J=function(){var n=Object(c.useState)([]),t=Object(u.a)(n,2),e=t[0],i=t[1],a=Object(c.useState)([]),o=Object(u.a)(a,2),r=o[0],s=o[1],b=Object(c.useState)(!1),p=Object(u.a)(b,2),j=p[0],x=p[1],f=Object(c.useState)(0),O=Object(u.a)(f,2),v=O[0],y=O[1],k=Object(c.useState)(""),C=Object(u.a)(k,2),N=C[0],J=C[1],W="https://cdn-api.co-vin.in/api/v2/admin/location/",V="https://cowin-webserver-slotlocker2.cloud.okteto.net/";Object(c.useEffect)((function(){w.a.get("".concat(W,"states")).then((function(n){if(n){var t=S()(n,"data.states",[]);i(t)}}))}),[]);var B=function(n){var t=n.input,e=n.options,i=Object(l.a)(n,["input","options"]);return Object(F.jsx)(T.a,Object(d.a)(Object(d.a)(Object(d.a)({placeholder:"Select State..."},t),{},{options:e,getOptionLabel:function(n){return n.state_name},getOptionValue:function(n){return n.state_id}},i),{},{searchable:!0}))},D=function(n){var t=n.input,e=(n.options,Object(l.a)(n,["input","options"]));return Object(F.jsx)(T.a,Object(d.a)(Object(d.a)(Object(d.a)({placeholder:"Select District...",isMulti:!0},t),{},{options:r,getOptionLabel:function(n){return n.district_name},getOptionValue:function(n){return n.district_id}},e),{},{searchable:!0}))},E=function(n){var t=n.input,e=n.meta,i=Object(l.a)(n,["input","meta"]);return Object(F.jsx)(P.a,Object(d.a)(Object(d.a)(Object(d.a)({},t),i),{},{onChange:function(n,e){return t.onChange(e)},errorText:e.touched?e.error:""}))},I=function(n){return n?void 0:"Required"};function M(){var n={phone_number:N,otp:v};w.a.post("".concat(V,"api/v1/user/otp/submit/"),n).then((function(n){alert("Successfully registered for a Whatsapp notification. Stay Safe!")}),(function(n){console.log(n)}))}function R(n){y(n.target.value)}return Object(F.jsx)(_.a,{muiTheme:L()(),children:Object(F.jsxs)(h,{children:[Object(F.jsx)("h1",{children:"Find a Vaccination Slot on Co-Win"}),Object(F.jsx)("h1",{children:"Get notified via Whatsapp whenever a slot becomes available"}),Object(F.jsx)(m.b,{onSubmit:function(n){if(!j){var t=JSON.parse(JSON.stringify(n)),e=n.state.state_id,i=n.district.map((function(n){return n.district_id}));t.state_id=e,t.district_ids=i,delete t.state,delete t.district,J(t.phone_number),w.a.post("".concat(V,"api/v1/user/"),t).then((function(n){x(!0)}),(function(n){console.log(n)}))}},render:function(n){var t=n.handleSubmit,i=n.form,a=n.submitting,o=n.pristine;n.values;return Object(F.jsxs)("form",{onSubmit:t,children:[Object(F.jsx)("div",{style:{marginTop:"20px"},children:Object(F.jsx)(m.a,{name:"state",component:B,validate:I,options:e})}),Object(F.jsx)(g.a,{name:"state",children:function(n,t){var e;e=n.state_id,w.a.get("".concat(W,"districts/").concat(e)).then((function(n){if(n){var t=S()(n,"data.districts",[]);s(t)}}))}}),Object(F.jsx)("div",{style:{marginTop:"20px"},children:Object(F.jsx)(m.a,{name:"district",component:D,validate:I,options:r})}),Object(F.jsx)("div",{children:Object(F.jsx)(m.a,{name:"first_name",component:E,validate:I,hintText:"Name",floatingLabelText:"Name"})}),Object(F.jsx)("div",{children:Object(F.jsx)(m.a,{name:"phone_number",component:E,validate:I,hintText:"Phone Number",floatingLabelText:"Phone Number (no country code)"})}),Object(F.jsxs)("div",{style:{marginTop:"20px"},children:[Object(F.jsx)(m.a,{name:"message_consent",component:"input",type:"checkbox"}),Object(F.jsx)("label",{children:"Allow updates on Whatsapp"})]}),j&&Object(F.jsxs)("div",{children:[Object(F.jsx)(P.a,{variant:"standard",name:"otp",hintText:"OTP",floatingLabelText:"OTP",onChange:R}),Object(F.jsx)("button",{type:"submit",onClick:M,children:"Submit OTP"})]}),!j&&Object(F.jsxs)("div",{className:"buttons",children:[Object(F.jsx)("button",{type:"submit",disabled:a,children:"Submit"}),Object(F.jsx)("button",{type:"button",onClick:i.reset,disabled:a||o,children:"Reset"})]})]})}})]})})},W=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,295)).then((function(t){var e=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;e(n),i(n),a(n),o(n),c(n)}))};b.a.render(Object(F.jsx)(r.a.StrictMode,{children:Object(F.jsx)(J,{})}),document.getElementById("root")),W()}},[[294,1,2]]]);
//# sourceMappingURL=main.784d01fc.chunk.js.map